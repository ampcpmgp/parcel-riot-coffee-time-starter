import riot from 'riot'

<parts-header>
  <span>menu {clickCount} {clickHistory.length}</span>
  <style type="less">
    :scope {
      display: flex;
      width: 100%;
      color: white;
      background-color: #555;
    }
  </style>
  <script>
    import { observe, unobserve } from '@nx-js/observer-util'
    import { debounce } from 'lodash'
    import state from '../../state'

    const uiObserver = observe(() => {
      console.log('aiueo')
      debounce(() => {
        this.update({
          clickCount: state.ui.clickCount,
          clickHistory: state.ui.clickHistory
        })
      }, 1000)
    })

    this.on('unmount', () => {
      unobserve(uiObserver)
    })
  </script>
</parts-header>
